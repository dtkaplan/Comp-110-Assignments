# Week 4 Project

## Xing Gao

<!-- leave this material as is -->
Compiled on `r date()`.

```{r include = FALSE}
library(DataComputing)
```
<!-- put your content after this line -->

```{r cache=TRUE}
data_site <-"http://tiny.cc/dcf/2014-Q4-Trips-History-Data-Small.rds"
Trips <-readRDS(gzcon(url(data_site)))
```
1.
Trips %>% 
  ggplot(aes(sdate)) +
  geom_density() 
This shows a density plot of how many events took place on each date

2. 
Trips %>% 
  mutate(time_of_day = lubridate::hour(sdate) + lubridate::minute(sdate)/60)%>%
  ggplot(aes(time_of_day)) +
  geom_density()
This shows how how often events took place on certain minutes and hours during the day 

3. 
Trips %>%
  mutate(time_of_day = lubridate::hour(sdate) + lubridate::minute(sdate)/60) %>%
  mutate(day_of_week = lubridate::wday(sdate)) %>%
  ggplot(aes(time_of_day)) + 
  geom_density()+
  facet_wrap(~day_of_week)
This shows on each day of the week, the frequency of the event at certain hours and minutes within each day. 

4.
Trips %>% 
  mutate(time_of_day = lubridate::hour(sdate) + lubridate::minute(sdate)/60) %>%
  mutate(day_of_week = lubridate::wday(sdate)) %>%
  ggplot(aes(time_of_day)) + 
  geom_density(aes(fill=client), alpha=1, color=NA)+
  facet_wrap(~day_of_week)
This shows 4, but also the variation between registered clients and casual clients.

5. 
Trips %>% 
  mutate(time_of_day = lubridate::hour(sdate) + lubridate::minute(sdate)/60) %>%
  mutate(day_of_week = lubridate::wday(sdate)) %>%
  ggplot(aes(time_of_day)) + 
  geom_density(aes(fill=client), alpha=1, color=NA, position=position_stack())+
  facet_wrap(~day_of_week)
This graphic is more effective at telling an interesting story, because you can see the difference between the registered and casual riders. 


6.
Trips %>% 
  mutate(time_of_day = lubridate::hour(sdate) + lubridate::minute(sdate)/60) %>%
  mutate(wday = ifelse(lubridate::wday(sdate) %in% c(1,7), "weekend", "weekday")) %>%
  ggplot(aes(time_of_day)) + 
  geom_density(aes(fill=client), alpha=1, color=NA, position=position_stack())+
  facet_wrap(~wday)

Trips %>% 
  mutate(time_of_day = lubridate::hour(sdate) + lubridate::minute(sdate)/60) %>%
  mutate(wday = ifelse(lubridate::wday(sdate) %in% c(1,7), "weekend", "weekday")) %>%
  ggplot(aes(time_of_day)) + 
  geom_density(aes(fill=wday), alpha=1, color=NA, position=position_stack())+
  facet_wrap(~client)

In my opinion, both ways are useful, depending on what you were interested in knowing. When the graph facets on client, and fill in with wday, this shows that both types of client ride more on the weekend. Furthermore, the patterns for registered users are different from patterns for casual users. When the graph facets on wday, and fill in with client, this shows that the pattern between casual and registered riders on the weekdays are different, but on the weekends, they're similar. 
