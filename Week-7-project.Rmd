# Week 7 Project

## Daniel Ochoa 

<!-- leave this material as is -->
Compiled on `r date()`.

```{r include = FALSE}
library(DataComputing)
```
<!-- put your content after this line -->

Here is where I take in a load of data; approximately 15,000 street addresses of registered voters from Wake County, NC.
```{r}
Wake_county <- read.csv("http://tiny.cc/dcf/street-addresses.csv", stringsAsFactors = FALSE)
```

After looking through a few cases in the Wake_county data set I hava identified a few commonly used words. These are the words that I have put in the string 'pattern' note that they are seperated via the regex command 'or'. I then create a new table, called LeftOvers which filters out all of the street names that I have already identified (and the BOX name)
```{r}
pattern <- "ST|RD|ROAD|CIRCLE|WAY|BLVD|CT|TRAIL"
LeftOvers <-
  Wake_county %>%
  filter( ! grepl(pattern, address),
          ! grepl(" BOX ", address)
  )
```

Going forward I should look at the new LeftOvers table and add a few more street words that I see and add these to my pattern. This is an iterative process, as I continue to do this my pattern of known street words will increase and my LeftOvers table will become smaller and more defined. 

The pattern uses below is the one I have accumulated over a few iterations of the process described above. When this pattern is used to filter out street words there are only 271 remaining entries of the original 15,000. Most the these entries remaining involve uncommon street words. 
```{r}
pattern <- "ST|RD|ROAD|CIRCLE|WAY|BLVD|CT|TRAIL|AVE|DR|LN|HALL|DRIVE|UNIVERSITY|CIR|LANE|COURT|PATH|POINT|PL|TERRACE|APT|SQUARE|PKWY|UNIV|PT|HOSPITAL|CENTER|HOUSE|LOOP|SEBTS"
LeftOvers <-
  Wake_county %>%
  filter( ! grepl(pattern, address),
          ! grepl("BOX ", address)
  )
```

So now that I have a method that filter the cases based on their street words I want to create a table that counts how many of each street word type there are: 
```{r}
pattern <- "(ST|RD|ROAD|CIRCLE|WAY|BLVD|CT|TRAIL|AVE|DR|LN|HALL|DRIVE|UNIVERSITY|CIR|LANE|COURT|PATH|POINT|PL|TERRACE|APT|SQUARE|PKWY|UNIV|PT|HOSPITAL|CENTER|HOUSE|LOOP|SEBTS|BOX|PO)"
streetWordCounter <-
  Wake_county %>%
  tidyr::extract(address, into = "streetWord", 
          regex = pattern,
          remove = FALSE) %>%
group_by(streetWord) %>%
summarise(total = n()) %>%
arrange(desc(total))
```

What the code above does is look through cases in the Wake_County data set and mark which of the different streetWords each case falls under. It then will group the data based on these streetWords, tally up the number of cases that fall under each street word and arrange them in descending order.

The top 5 most common street names that I have found are: PO, BOX, ST, DR, and RD in that order.


