# Week 6 Project

## Lang Li

<!-- leave this material as is -->
Compiled on `r date()`.

```{r include = FALSE}
library(DataComputing)
```
<!-- put your content after this line -->

# Task

1. Buying and Selling stocks could get a higher income and loss, as well.

2. I don't see any correlation. My reasoning is that if there is any correlation, the stock price will be related with the dividends amount but the Ford offers a higher dividend than HMC which shouldn't happen if it is the case.

# Getting Price Data

We choose three telecommucation companies, AT&T, Sprint and Verizon.
```{r}
companies <- c("T","S","VZ")
Prices <- read_stock_prices(companies, what = "daily", start_year = 2000, end_year = 2015)
Prices %>% ggplot(mapping = aes(x= date, y = close))+geom_line(aes(colour = company))
```

# Buy/Sell Profit
```{r}
Actions <- data.frame(action = c("buy","sell"),date = ymd(c("2006-01-03","2014-12-30")))
BuySellPrices<- Actions %>% left_join(Prices) %>% select(company, action, close) %>% spread(key = action,value = close)
BuySellPrices
```

```{r}
Gains <- BuySellPrices %>% mutate(profit = sell - buy) %>% mutate(percent = sell/buy-1) %>% select (company, profit,percent)
Gains
```

# Indexing Prices
Choosing the reference day as 2003-03-28.
```{r}
ref_date = ymd("2003-03-28")
Reference <- Prices %>% filter(date == ref_date) %>% select(company,standard = close)
StdPrices <- Prices %>% select(company, date, close) %>% left_join(Reference) %>% mutate (StandardPrice = close/standard) %>% select(company,date,StandardPrice)
StdPrices %>% ggplot(aes(x=date, y=StandardPrice))+geom_line(aes(colour = company))
```

# Dividends
```{r}
Dividends <- read_stock_prices(companies,"dividends",start_year = 2000,end_year = 2015)
Dividends%>%filter(date > "2006-06-30") %>% filter (date < "2015-12-31") %>% inner_join(Prices) %>% select(company, date,dividends) %>% group_by(company) %>% summarise(total_dividend = sum(dividends))
```

Surprisingly, the dividends plays a better role for ATT and Spring but for Verizon, they are similar but buy and sell earns more per share.