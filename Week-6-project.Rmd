# Week 6 Project

## Sam Erickson

<!-- leave this material as is -->
Compiled on `r date()`.

```{r include = FALSE}
library(DataComputing)
```
<!-- put your content after this line -->

Here is my content!
```{r}
companies <- c('MMM','DOW','BAYN')
Prices <- read_stock_prices(companies,what='daily',start_year=2000,end_year=2015)
```

```{r}
ggplot(Prices,aes(x=date,y=close)) +
  geom_line(aes(color=company),size=0.5)
```

```{r}
Actions <- data.frame(action=c('buy','sell'),
  date = ymd(c("2006-01-03","2014-12-30")))

Combined <-
  Prices %>%
  inner_join(Actions,by='date') %>%
  select(close,company,action) %>%
  spread(key=action,value=close) 


Profits <- Combined %>%
  mutate(profit = sell-buy) %>%
  mutate(percent= (sell-buy)/buy*100)  %>%
  select(company,profit,percent) 
  
```


```{r}
refDate = ymd("2005-02-01")
Reference <- Prices %>%
  filter(date == refDate) %>%
  select(company, standard = close)
```

```{r}
Prices <- Prices %>%
  left_join(Reference,by='company')
```

```{r}
Prices <- Prices %>%
  mutate(Index = close / standard)

ggplot(Prices,aes(x=date,y=Index)) + 
  geom_line(aes(color=company))
```


```{r}
Dividends <- read_stock_prices(companies,what="dividends")

#Dividends <- Dividends %>%
  #left_join(Actions,by="date")

Actions
Dividends
```

